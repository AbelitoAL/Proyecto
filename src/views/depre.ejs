<!DOCTYPE html>
<html>

<head>
    <title>Depreciación</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/estilodepre.css">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!----======== script ======== -->
    <script type="text/javascript" src="js/modal.js"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <!----===== Boxicons CSS ===== -->
    <link href='https://unpkg.com/boxicons@2.1.1/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,400i,700,700i&display=swap">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">

    <!----===== GRÁFICA ===== -->
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/morris.js/0.5.1/morris.min.js"></script>

    <script type="text/javascript" src="libs/morris.min.js"></script>
    <script src="libs/datos.js"></script>
    <link rel="stylesheet" href="libs/morris.css">




</head>
<%- include('./barramenu'); %>
<body>
    <div class="container">
        <div class="row">
            <div class="col-12 text-center" style="padding: 10px; margin-top: 2%;">
                <h1 class="page-title" style="margin-bottom: 10px;"><i class='bx bx-extension icon'
                        style="color: rgba(6, 158, 247, 0.849);"></i> Vista de activos</h1>
            </div>
        </div>
    </div>
    <div class="container">

        <nav class="nav nav-tabs mt-2" id="myTabs">
            <a class="nav-link active" id="opcion1-tab" data-toggle="tab" href="#opcion1" role="tab"
                aria-controls="opcion1" aria-selected="true">Depreciación</a>
            <a class="nav-link" id="opcion2-tab" data-toggle="tab" href="#opcion2" role="tab" aria-controls="opcion2"
                aria-selected="false">Garantía</a>
            <a class="nav-link" id="opcion3-tab" data-toggle="tab" href="#opcion3" role="tab" aria-controls="opcion3"
                aria-selected="false">Detalles</a>
            <a class="nav-link" id="opcion4-tab" data-toggle="tab" href="#opcion4" role="tab" aria-controls="opcion4"
                aria-selected="false">Fotos</a>
        </nav>

        <div class="tab-content mt-2" id="myTabContent">

            <div class="tab-pane fade show active" id="opcion1" role="tabpanel" aria-labelledby="opcion1-tab">
                <h3>Depreciación</h3>
                <p>Los valores de depreciación de los activos son obligatorios.</p>

                <!-- Button trigger modal -->
                <div class="container">
                    <div class="row">
                        <div class="col-md">
                            <button type="submit" class="btn btn-primary d-inline-block" data-toggle="modal"
                            data-target="#exampleModal">
                            <i class='bx bx-plus'></i>
                            Administrar
                        </button>
                        <input type="button" class="btn btn-dark d-inline-block mr-3" value="Volver" />
                    </div>
                </div>
            </div>

            <% if (datos.length> 0) { %>
            <div class="tab-content mt-3" id="myTabContent">
                <div class="tab-pane fade show active" id="list" role="tabpanel" aria-labelledby="list-tab">
                    <div class="card">
                        <div class="card-body">
                            <div class="table-responsive">
                                <table id="userList" class="table table-bordered table-hover table-striped">
                                            <thead class="thead-light">
                                                <tr>
                                                    <th scope="col">#</th>
                                                    <th scope="col">Fecha de adquisición</th>
                                                    <th scope="col">Costo Depreciable</th>
                                                    <th scope="col">Valor de rescate</th>
                                                    <th scope="col">Vida útil (meses)</th>
                                                    <th scope="col">depr. Método</th>

                                                </tr>
                                            </thead>

                                            <tbody>
                                                <% for (let i=0; i < datos.length; i++) { %>
                                                <tr>
                                                    <td scope="col">
                                                        <%= i+1 %>
                                                    </td>
                                                    <td scope="col">
                                                        <%= datos[i].fecha%>
                                                    </td>
                                                    <td scope="col">
                                                        <%= datos[i].costoD%>
                                                    </td>
                                                    <td scope="col">
                                                        <%= datos[i].Vres%>
                                                    </td>
                                                    <td scope="col">
                                                        <%= datos[i].VidaU%>
                                                    </td>
                                                    <td scope="col">
                                                        <%= datos[i].metodo%>
                                                    </td>

                                                </tr>
                                                <%}%>
                                            </tbody>
                                        </table>
                                    </div>

                                </div>

                            </div>
                        </div>

                    </div>
                    <br>
                    <!--GRÁFICA ESTADISTICA-->
                    <div class="container">
                        <div class="row">
                            <div class="col-md-6">
                                <h2>Estadísticas anuales de depreciación</h2>
                                
                            </div>
                        </div>
                        <div class="grafica" id="myfirstchart"></div>
                    </div>
                    <script type="text/javascript" src="libs/lineas.js"></script>
                    <br>
                    <%}%>
                        <% if(data.length> 0) { %>
                            <!--SEGUNDA TABLA-->
                            <div class="tab-content mt-3" id="myTabContent">
                                <div class="tab-pane fade show active" id="list" role="tabpanel"
                                    aria-labelledby="list-tab">
                                    <div class="card">
                                        <div class="card-body">
                                            <div class="table-responsive">
                                                <table id="userList"
                                                    class="table table-bordered table-hover table-striped">
                                                    <thead class="thead-light">
                                                        <tr>
                                                            <th scope="col">#</th>
                                                            <th scope="col">Año</th>
                                                            <th scope="col">Gasto de depreciación</th>
                                                            <th scope="col">Depreciación acumulada al final del año</th>
                                                            <th scope="col">Valor en libros a final del año</th>

                                                        </tr>
                                                    </thead>

                                                    <tbody>
                                                        <tr>
                                                            <th scope="row"></th>
                                                            <td></td>
                                                            <td></td>
                                                            <td></td>
                                                            <td><%= data[0].tota %></td>
        
                                                        </tr>
                                                        <% for (let i=data.length-1; i >= 0; i--) {  %>
                                                            <tr>
                                                                <td scope="col">
                                                                    <%= i+1 %>
                                                                </td>
                                                                <td scope="col">
                                                                    <%= data[i].year%>
                                                                </td>
                                                                <td scope="col">
                                                                    <%= data[i].depre%>
                                                                </td>
                                                                <td scope="col">
                                                                    <%= data[i].depreacu%>
                                                                </td>
                                                                <td scope="col">
                                                                    <%= data[i].value%>
                                                                </td>                                                               
                                                            </tr>
                                                            <%}%>

                                                    </tbody>
                                                </table>
                                            </div>

                                        </div>

                                    </div>
                                </div>

                            </div>

            </div>
            <br>
            <%}%>


                <div class="tab-pane fade" id="opcion2" role="tabpanel" aria-labelledby="opcion2-tab">
                    <h3>Garantía</h3>
                    <!-- Button trigger modal -->
                    <button type="submit" class="btn btn-primary" data-toggle="modal" data-target="#nuevoModal"><i
                            class='bx bx-plus'></i>
                        Agregar nuevo
                    </button>
                    <div class="tab-content mt-3" id="myTabContent">
                        <div class="tab-pane fade show active" id="list" role="tabpanel" aria-labelledby="list-tab">
                            <div class="card">
                                <div class="card-header d-flex justify-content-between align-items-center">
                                    <h4 class="mb-0">Listado</h4>
                                    <div>
                                        <input type="button" class="btn btn-dark mr-3" value="Volver" />
                                    </div>
                                </div>
                                <div class="card-body">
                                    <div class="table-responsive">
                                        <table id="userList" class="table table-bordered table-hover table-striped">
                                            <thead class="thead-light">
                                                <tr>
                                                    <th scope="col">#</th>
                                                    <th scope="col">Fecha de caducidad</th>
                                                    <th scope="col">Longitud</th>
                                                    <th scope="col">Notas</th>
                                                    <th scope="col">Acción</th>

                                                </tr>
                                            </thead>

                                            <tbody>
                                                <tr>
                                                    <th scope="row">1</th>
                                                    <td></td>
                                                    <td></td>
                                                    <td></td>
                                                    <td></td>

                                                </tr>

                                            </tbody>
                                        </table>
                                    </div>

                                </div>

                            </div>
                        </div>

                    </div>

                </div>
                <div class="tab-pane fade" id="opcion3" role="tabpanel" aria-labelledby="opcion3-tab">
                    <h3>Contenido de la Opción 3</h3>
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris rutrum ullamcorper orci, ac porta
                        nunc. Pellentesque efficitur, dui ac aliquet fringilla, metus elit eleifend lectus, vel congue
                        risus
                        tortor id velit. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac
                        turpis egestas. Nulla eget orci vel ipsum elementum eleifend.</p>
                </div>
                <div class="tab-pane fade" id="opcion4" role="tabpanel" aria-labelledby="opcion4-tab">
                    <h3>Contenido de la Opción 4</h3>
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris rutrum ullamcorper orci, ac porta
                        nunc. Pellentesque efficitur, dui ac aliquet fringilla, metus elit eleifend lectus, vel congue
                        risus
                        tortor id velit. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac
                        turpis egestas. Nulla eget orci vel ipsum elementum eleifend.</p>
                </div>
        </div>
    </div>

    <!-- Modal -->
    <form action="/depre" method="post">
        <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
            aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Administrar la depreciación de activos</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="container">
                            <div class="mb-3 row">
                                <label for="basic-url" class="col-sm-4 col-form-label">Costo depreciable</label>
                                <div class="col-sm-8">
                                    <div class="input-group">
                                        <span class="input-group-text">Bs</span>
                                        <input type="text" name="Cdepreciable" id="Cdepreciable" class="form-control"
                                            aria-describedby="basic-addon3 basic-addon4">
                                    </div>
                                    <div class="form-text" id="basic-addon4">Incluyendo impuesto sobre las ventas, flete
                                        e
                                        instalación.
                                    </div>
                                </div>
                            </div>

                            <div class="mb-3 row">
                                <label for="basic-url" class="col-sm-4 col-form-label">Valor del rescate</label>
                                <div class="col-sm-8">
                                    <div class="input-group">
                                        <span class="input-group-text">Bs</span>
                                        <span class="input-group-text">0.00</span>
                                        <input type="text" name="VRescate" id="VRescate" class="form-control"
                                            aria-label="Dollar amount (with dot and two decimal places)">
                                    </div>
                                </div>
                            </div>

                            <div class="mb-3 row">
                                <label for="formGroupExampleInput" class="col-sm-4 col-form-label">Vida útil
                                    (Años)</label>
                                <div class="col-sm-8">
                                    <input type="text" name="Vutil" id="Vutil" class="form-control">
                                </div>
                            </div>

                            <div class="mb-3 row">
                                <label for="formGroupExampleInput" class="col-sm-4 col-form-label">Método de
                                    depreciación</label>
                                <div class="col-sm-8">
                                    <input type="text" class="form-control" id="formGroupExampleInput"
                                        placeholder="Línea Recta" readonly>
                                </div>
                            </div>

                            <div class="mb-3 row">
                                <label for="basic-url" class="col-sm-4 col-form-label">Fecha de adquisición</label>
                                <div class="col-sm-8">
                                    <input type="date" name="fecha" id="fecha" class="form-control">
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
                        <button type="submit" class="btn btn-primary" onclick="calcular()">Actualizar</button>
                    </div>
                </div>
            </div>
        </div>

    </form>


    <!-- Modal Nuevo-->

    <div class="modal fade" id="nuevoModal" tabindex="-1" role="dialog" aria-labelledby="nuevoModalLabel"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="nuevoModalLabel">Garantía de activos</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="container">

                        <div class="mb-3 row">
                            <label for="formGroupExampleInput" class="col-sm-4 col-form-label">Longitud (meses)</label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" id="formGroupExampleInput" placeholder="">
                            </div>
                        </div>

                        <div class="mb-3 row">
                            <label for="basic-url" class="col-sm-4 col-form-label">Fecha de caducidad</label>
                            <div class="col-sm-8">
                                <input type="date" name="fecha" class="form-control">
                            </div>
                        </div>

                        <div class="mb-3 row">
                            <label for="basic-url" class="col-sm-4 col-form-label">Notas</label>
                            <div class="col-sm-8">
                                <textarea class="form-control" placeholder="Leave a comment here"
                                    id="floatingTextarea"></textarea>
                            </div>
                        </div>

                    </div>
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-primary">Guardar</button>
                </div>
            </div>
        </div>
    </div>




</body>

</html>