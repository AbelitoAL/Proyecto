<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!----======== CSS ======== -->
    <link rel="stylesheet" href="css/estiloForm.css">

    <!----===== Boxicons CSS ===== -->
    <link href='https://unpkg.com/boxicons@2.1.1/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,400i,700,700i&display=swap">


    <!--<title>Dashboard Sidebar Menu</title>-->
</head>
<%- include('./barramenu'); %>

    <body>
        <div id="kt_content" class="content d-flex flex-column flex-column-fluid">
            <div class="innerMain_content">
                <div class="container innerMain_container">

                    <div class="card" id="crop-avatar">
                        <form action="/crearReserva" method="POST">
                            <div id="kt_content" class="content d-flex flex-column flex-column-fluid">
                                <div class="innerMain_content">
                                    <div class="container innerMain_container">


                                        <div class="page-main-heading">
                                            <div class="justify-content-start">
                                                <h1 class="page-title"><i class="bi bi-geo"></i> Crear Reserva</h1>
                                            </div>
                                        </div>

                                        <div class="card" id="crop-avatar">
                                            <form Id="profile_form" action="/crearReserva" autocomplete="off"
                                                class="form-horizontal" method="POST">
                                                <div class="card-body">
                                                    <div class="form_section">
                                                        <div class="form-title"><i class="bi bi-geo"></i><span> Reserva
                                                            </span></div>

                                                        <div class="form-group row">
                                                            <label
                                                                class="col-sm-3 col-md-3 col-xxl-3 col-form-label text-sm-end"
                                                                for="Title">Activo Fijo</label>
                                                            <div class="col-md-6 col-lg-5 col-xxl-4 col-sm-5">
                                                                <select class="form-control" id="idActivoFijo"
                                                                    name="idActivoFijo" required>
                                                                    <% for (let i=0; i < activosFijos.length; i++) { %>
                                                                        <option value="<%= activosFijos[i].id %>">
                                                                            <%= activosFijos[i].descripcion %>
                                                                        </option>
                                                                        <% } %>
                                                                </select>
                                                            </div>
                                                        </div>


                                                        <div class="form-group row">
                                                            <label
                                                                class="col-sm-3 col-md-3 col-xxl-3 col-form-label text-sm-end"
                                                                for="tipoPersona">Tipo de Persona</label>
                                                            <div class="col-md-6 col-lg-5 col-xxl-4 col-sm-5">
                                                                <select class="form-control" id="tipoPersona"
                                                                    name="tipoPersona" onclick="mostrarPersonas()"
                                                                    required>
                                                                    <% for (let i=0; i < tipoPersona.length; i++) { %>
                                                                        <option value="<%= tipoPersona[i] %>">
                                                                            <%= tipoPersona[i] %>
                                                                        </option>
                                                                        <% } %>
                                                                </select>
                                                            </div>
                                                        </div>

                                                        <div class="form-group row">
                                                            <label
                                                                class="col-sm-3 col-md-3 col-xxl-3 col-form-label text-sm-end"
                                                                for="ciPersona">Nombre Persona</label>
                                                            <div class="col-md-6 col-lg-5 col-xxl-4 col-sm-5">
                                                                <select id="ciPersona" name="ciPersona" required>

                                                                </select>
                                                            </div>
                                                        </div>

                                                        <div class="form-group row">
                                                            <label
                                                                class="col-sm-3 col-md-3 col-xxl-3 col-form-label text-sm-end"
                                                                for="fecha">Fecha</label>
                                                            <div class="col-md-6 col-lg-5 col-xxl-4 col-sm-5">
                                                                <input class="form-control" id="fecha" name="fecha"
                                                                    placeholder="Ingrese una fecha de inicio"
                                                                    type="date" style="margin-right: 10px;" required>
                                                                </select>
                                                            </div>
                                                        </div>

                                                        <div class="form-group row">
                                                            <label
                                                                class="col-sm-3 col-md-3 col-xxl-3 col-form-label text-sm-end"
                                                                for="descripcion">Descripción</label>
                                                            <div class="col-md-6 col-lg-5 col-xxl-4 col-sm-5">
                                                                <textarea class="form-control" cols="20" data-val="true"
                                                                    data-val-length="Maximum length is 1000."
                                                                    data-val-length-max="1000" id="descripcion"
                                                                    maxlength="1000" name="descripcion" rows="4"
                                                                    required></textarea>
                                                                <span class="field-validation-valid"
                                                                    data-valmsg-for="Notes"
                                                                    data-valmsg-replace="true"></span>
                                                            </div>
                                                        </div>



                                                    </div>
                                                </div>
                                                <p>
                                                <div class="form-group row">
                                                    <div class="col-sm-9 offset-sm-3">
                                                        <button class="btn btn-secondary" type="submit">Crear</button>
                                                    </div>
                                                </div>
                                            </form>
                                        </div>
                                    </div>

                                </div>

                            </div>
                    </div>
                </div>
                </form>

            </div>
        </div>



        </div>
        </div>
        </div>
    </body>

    <script>
        function mostrarPersonas() {
            var tipoPersona = document.getElementById("tipoPersona").value;
            var selectPersonas = document.getElementById("ciPersona");

            // Limpia las opciones existentes
            selectPersonas.innerHTML = "";

            // Agrega las opciones correspondientes según el tipo de persona seleccionado
            if (tipoPersona === "cliente") {
            // Itera sobre los clientes y agrega las opciones
            <% for (let i = 0; i < clientes.length; i++) { %>
                var option = document.createElement("option");
                    option.value = "<%= clientes[i].ci %>";
                    option.text = "<%= clientes[i].nombre %>";
                    selectPersonas.appendChild(option);
            <% } %>
        } else if (tipoPersona === "empleado") {
            // Itera sobre los empleados y agrega las opciones
            <% for (let i = 0; i < empleados.length; i++) { %>
                var option = document.createElement("option");
                    option.value = "<%= empleados[i].ci %>";
                    option.text = "<%= empleados[i].nombre %>";
                    selectPersonas.appendChild(option);
            <% } %>
        }
        }
    </script>



</html>